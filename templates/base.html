<!DOCTYPE html>
<html lang="pt-br" data-bs-theme="{{ session.get('theme', 'light') }}">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}DataViz HUB{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">

    <!-- CSS do Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

    <!-- JavaScript do Select2 -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<style>
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 5px;
    }
    .center_div {
        display: flex;
        justify-content: center;
    }
    html {
        width: 100%;
        height: 100%;
        margin: 0;
    }
    .ctn_base {
        display: flex;
        justify-content: center;
        align-items: center;
        height: calc(100vh - 137px);
    }

    .ctn_secondary {
        width: 50%;

        box-shadow: 0 0 20px 5px rgba(0,0,0,0.5);

        border-radius: 20px;
        padding: 20px;
    }
</style>
</head>
  <body>
    <header style="background: #a4a4a4; display: flex; justify-content: space-between">
        {% if home_button %}
            <a class="navbar-brand" id="homeButton" href="{{ url_for('index') }}">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                    <path d="M160-120v-480l320-240 320 240v480H560v-280H400v280H160Z"/>
                </svg>
            </a>
        {% else %}
            <div style="width: calc(3% - 7px)"></div>
        {% endif %}
        <h1 style="font-weight: bold; color: white;">DataViz HUB</h1>
        <div>
            <button id="theme-switch" class="btn btn-secondary">
                <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" height="25px" viewBox="0 -960 960 960" width="25px" fill="currentColor">
                    <path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Z"/>
                </svg>
                <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" height="25px" viewBox="0 -960 960 960" width="25px" fill="currentColor">
                    <path d="M480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Z"/>
                </svg>
            </button>
        </div>
    </header>

    <main>{% block content %} {% endblock %}</main>

    <svg xmlns="http://www.w3.org/2000/svg" style="display: none"> <symbol id="check2" viewBox="0 0 16 16"> <path d="M12.354 5.646a.5.5 0 0 1 0 .708L8.707 10l3.647 3.646a.5.5 0 0 1-.708.708L8 10.707l-3.646 3.647a.5.5 0 0 1-.708-.708L7.293 10 3.646 6.354a.5.5 0 1 1 .708-.708L8 9.293l3.646-3.647a.5.5 0 0 1 .708 0z" /> </symbol> <symbol id="circle-half" viewBox="0 0 16 16"> <path d="M8 15A7 7 0 1 1 8 1v14z" /> </symbol> <symbol id="moon-stars-fill" viewBox="0 0 16 16"> <path d="M6 0a6 6 0 0 0 0 12A6 6 0 1 0 6 0zM1.5 6a4.5 4.5 0 0 1 7.215-3.857 5.957 5.957 0 0 0-3.499.627A5.955 5.955 0 0 0 1.5 6z" /> </symbol> <symbol id="sun-fill" viewBox="0 0 16 16"> <path d="M8 4.5A3.5 3.5 0 1 0 8 11.5A3.5 3.5 0 0 0 8 4.5zM8 0a.5.5 0 0 1 .5.5V1.5A.5.5 0 0 1 8 2H7.5A.5.5 0 0 1 7 1.5V0.5A.5.5 0 0 1 7.5 0H8zM4.354 1.646a.5.5 0 1 1 .707.708l-.5.5A.5.5 0 0 1 4.146 2.146l.5-.5zM1 7.5A.5.5 0 0 1 1.5 7H2.5A.5.5 0 0 1 3 7.5V8.5A.5.5 0 0 1 2.5 9H1.5A.5.5 0 0 1 1 8.5V7.5zM4.354 13.354a.5.5 0 0 1 .708-.708l.5.5a.5.5 0 0 1-.708.708l-.5-.5zM8 13a.5.5 0 0 1 .5.5V14.5A.5.5 0 0 1 8 15H7.5A.5.5 0 0 1 7 14.5V13.5A.5.5 0 0 1 7.5 13H8zM11.646 13.354a.5.5 0 0 1 .708-.708l.5.5a.5.5 0 0 1-.708.708l-.5-.5zM14.5 8.5A.5.5 0 0 1 15 8H14.5A.5.5 0 0 1 14 7.5V6.5A.5.5 0 0 1 14.5 6H15A.5.5 0 0 1 15.5 6.5V7.5A.5.5 0 0 1 15 8H14.5z" /> </symbol> </svg>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/theme_switcher.js') }}" defer ></script>
  </body>
<script>
    const backButton = document.getElementById('homeButton');

        backButton.addEventListener('click', function(event) {
            const userConfirmed = confirm('Você realmente deseja voltar para a página inicial?');

            if (userConfirmed) {
                window.location.href = '/';
            } else {
                event.preventDefault();
            }
        });

    const navbar = document.getElementById('navbarNav');
    const themeSwitch = document.getElementById('theme-switch');

    if (!backButton) {
        navbar.style.display = 'flex';
        navbar.style.justifyContent = 'space-between';
        themeSwitch.style.marginLeft = 'auto';
    } else {
        navbar.style.display = 'flex';
        navbar.style.justifyContent = 'space-between';
        themeSwitch.style.marginLeft = '0';
    }
</script>
</html>
